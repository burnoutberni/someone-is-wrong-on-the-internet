<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Someone is wrong on the internet!</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="popup">
    <header class="header">
      <div class="header-content">
        <img src="../icons/icon-32.png" alt="Extension Icon" class="header-icon">
        <h1>Someone is wrong on the internet!</h1>
      </div>
    </header>

    <!-- Site Enable Control -->
    <section class="section">
      <div class="toggle-group">
        <div class="toggle-item">
          <div class="toggle-label">
            <span class="toggle-title">Enable for this site</span>
            <span class="toggle-desc" id="currentSite">Loading...</span>
          </div>
          <label class="toggle-switch">
            <input type="checkbox" id="siteEnable" checked>
            <span class="slider"></span>
          </label>
        </div>
      </div>
    </section>

    <!-- Tone Selection -->
    <section class="section">
      <label class="section-label">Reply Tone</label>
      <select id="tone" class="select-field">
        <option value="funny">ğŸ­ Funny</option>
        <option value="sarcastic">ğŸ˜ Sarcastic</option>
        <option value="mild">ğŸ˜Œ Mild</option>
      </select>
    </section>

  <!-- API Configuration -->
  <section class="section collapsible collapsed no-init-anim">
      <button class="section-header" id="toggleConfig">
        <span>âš™ï¸ API Configuration</span>
        <span class="chevron">â–¼</span>
      </button>
      <div class="section-content" id="configContent">
        <div class="field-group">
          <label class="field-label">API Key</label>
          <div class="input-group">
            <input id="apikey" type="password" class="input-field" placeholder="sk-..." />
            <button id="toggleKey" class="btn-icon" title="Show/Hide">ğŸ‘ï¸</button>
          </div>
          <div class="field-hint">Optional for Ollama/Open WebUI</div>
        </div>

        <div class="field-group">
          <label class="field-label">API Base URL</label>
          <input id="apibase" type="text" class="input-field" placeholder="https://api.openai.com" />
          <div class="field-hint">Use <code>http://localhost:11434</code> for Ollama or <code>http://localhost:3000</code> for Open WebUI</div>
        </div>

        <div class="field-group">
          <label class="field-label">Model</label>
          <input id="model" type="text" class="input-field" placeholder="gpt-3.5-turbo" />
          <div class="field-hint">Leave empty for auto-detection</div>
        </div>
      </div>
    </section>

    <!-- Actions -->
    <section class="section">
      <button id="scan" class="btn-primary">ğŸ” Scan Page for Comments</button>
    </section>

    <!-- Status -->
    <div id="status" class="status"></div>
  </div>
  <script src="popup.js"></script>
</body>
</html>
